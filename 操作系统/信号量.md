## 信号量

信号量是一个整形，一个p操作，信号量减一，

v操作，加1，唤醒一个等待的P操作。

信号量是一个整数

信号量一个受保护的变量。

- 初始化完成后，唯一改变一个信号量的值的办法就是通过P（）和v
- 操作必须是原子操作

P操作能够阻塞，V操作不会阻塞

我们假定信号量是公平的。FIFO

两种类型的信号量。

- 二进制的信号量 0 或1
- 一般计数信号量。  可以相互取任何非负值

信号量在两个方面

- 互斥量
- 条件同步 

消息队列，使用互斥。

### 信号量的实现

需要一个整型变量，和一个等待队列。

- 禁止中断
- 原子指令。

信号量用途

- 互斥和条件同步
- 等待条件是独立的互斥

读、开发代码比较困难

容易出错。

不能处理死锁问题