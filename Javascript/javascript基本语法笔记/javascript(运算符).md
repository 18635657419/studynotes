## 运算符


### 加法运算符


加法运算符（+）是最常见的运算符之一，但是使用规则却相对复杂。+，既可以处理算术的加法，也可以用作字符串连接，它们都写成+

- 如果运算子是对象，先自动转成原始类型的值（即先执行该对象的valueOf方法，如果结果还不是原始类型的值，再执行toString方法；如果对象是Date实例，则先执行toString方法）。
- 两个运算子都是原始类型的值以后，只要有一个运算子是字符串，则两个运算子都转为字符串，执行字符串连接运算。
- 否则，两个运算子都转为数值，执行加法运算。


```
'1' + {foo: 'bar'} // "1[object Object]"
'1' + 1 // "11"
'1' + true // "1true"
'1' + [1] // "11"
'3' + 4 + 5 // "345"

```


### 赋值运算符

javaScript还提供其他11个复合的赋值运算符。

```
x += y // 等同于 x = x + y
x -= y // 等同于 x = x - y
x *= y // 等同于 x = x * y
x /= y // 等同于 x = x / y
x %= y // 等同于 x = x % y
x >>= y // 等同于 x = x >> y
x <<= y // 等同于 x = x << y
x >>>= y // 等同于 x = x >>> y
x &= y // 等同于 x = x & y
x |= y // 等同于 x = x | y
x ^= y // 等同于 x = x ^ y

```
### 比较运算符的算法

如果两个运算子都是字符串，则按照字典顺序比较（实际上是比较Unicode码点）。
否则，将两个运算子都转成数值，再进行比较（等同于先调用Number函数）

```
5 > '4' // true 5>4
// 等同于 5 > Number('4')
// 即 5 > 4

true > false
// 1>0
```

两个复合类型（对象、数组、函数）的数据比较时，不是比较它们的值是否相等，而是比较它们是否指向同一个对象

```

{} === {} // false
[] === [] // false
(function (){} === function (){}) // false


var v1 = {};
var v2 = v1;
v1 === v2 // true

```

- 相等运算符的缺点


```
'' == '0'           // false
0 == ''             // true
0 == '0'            // true

2 == true           // false
2 == false          // false

false == 'false'    // false
false == '0'        // true

false == undefined  // false
false == null       // false
null == undefined   // true

' \t\r\n ' == 0     // true

```

### 逗号运算符

逗号运算符用于对两个表达式求值，并返回后一个表达式的值。


```

var x = 0;
var y = (x++, 10);
x // 1
y // 10
```