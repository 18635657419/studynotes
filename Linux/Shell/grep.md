## grep

grep (global search regular expression(RE) and print out the line,全面搜索正则表达式并把行打印出来)是一种强大的文本搜索工具.

Unix的grep家族包括grep、egrep和fgrep。linux使用GNU版本的grep。它功能更强，可以通过-G、-E、-F命令行选项来使用egrep和fgrep的功能

grep的格式


```
grep [options] pattern

```

options 是可选项

- -c：只输出匹配行的计数。
- -i：不区分大 小写(只适用于单字符)。
- -h：查询多文件时不显示文件名。
- -l：查询多文件时只输出包含匹配字符的文件名。
- -n：显示匹配行及 行号。
- -s：不显示不存在或无匹配文本的错误信息。
- -v：显示不包含匹配文本的所有行。
- -o 只输出文件中匹配到的部分。
- -R/-r 递归查找




 pattern正则表达式主要参数：
 
- \ ： 忽略正则表达式中特殊字符的原有含义。
- ^：匹配正则表达式的开始行。
- $: 匹配正则表达式的结束行。
- \<：锚定单词的开始。 如:'\<grep'匹配包含以grep开头的单词的行
-  \>：锚定单词的结束。如'grep\>'匹配包含以grep结尾的单词的行。   
- \[ - ]：范围，如[A-Z]，即A、B、C一直到Z都符合要求 。
- \.：所有的单个字符。
- \* ：重复
- .* 一起用代表任意字符
- x\{m\} 重复字符x，m次
- \w：匹配文字和数字字符
- \b：单词锁定符  '\bgrep\b'只匹配grep


### POSIX字符:

为了在不同国家的字符编码中保持一至，POSIX(The Portable Operating System Interface)增加了特殊的字符类，如[:alnum:]是[A-Za-z0-9]的另一个写法。要把它们放到[]号内才能成为正则表达式，如[A- Za-z0-9]或[[:alnum:]]。在linux下的grep除fgrep外，都支持POSIX的字符类。

```
[:alnum:]    #文字数字字符   
[:alpha:]    #文字字符   
[:digit:]    #数字字符   
[:graph:]    #非空字符（非空格、控制字符）   
[:lower:]    #小写字符   
[:cntrl:]    #控制字符   
[:print:]    #非空字符（包括空格）   
[:punct:]    #标点符号   
[:space:]    #所有空白字符（新行，空格，制表符）   
[:upper:]    #大写字符   
[:xdigit:]   #十六进制数字（0-9，a-f，A-F）

```
例子讲解

有这么一个文件a.txt 内容如下d

```
b124230 
b034325 
a081016 
m7187998 
m7282064 

a022021 
a061048 
m9324822 
b103303 
a013386 
b044525 
m8987131 
B081016 
M45678 
B103303 
BADc2345 
```
1. 匹配文件中的6

```
grep '6' a.txt 
# 结果如下
a081016 
m7282064 
a061048 
a013386 
B081016 
M45678 

# 匹配已b开头的不区分大小写

grep -i '^b' a.txt

b124230 
b034325 
b103303 
b044525 
B081016 
B103303 
BADc2345 

# 只输出匹配到的行数

grep -c "^b" a.txt #区分大小写

4

# 匹配匹配的内容和行号

grep -n '^b' a.txt

1:b124230 
2:b034325 
9:b103303 
11:b044525

# 反选

grep -v '^b' a.txt

a081016 
m7187998 
m7282064 
a022021 
a061048 
m9324822 
a013386 
m8987131 
B081016 
M45678 
B103303 
BADc2345

# 找出空白行

grep -n '^$' a.txt
7
# 递归查找当前文件夹中的php字符

grep -r 'php' .

```

# \\< 和 ^的区别

a.txt的内容如下


```
b124230 bbb aaa bacaa
b034325 bcdd
a081016  90d



```
```
grep "^b" a.txt
```
匹的结果如下

==b==124230 bbb aaa bacaa

==b==034325 bcdd

==b==103303 

==b==044525

```

grep "\<b" a.txt

```

==b==124230 ==b==bb aaa ==b==acaa

==b==034325 ==b==cdd

==b==103303 

==b==044525